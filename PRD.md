# 블로그 포스팅 자동화 시스템 제품 요구사항 명세서 (PRD)

## 1. 개요 (Overview)

### 1.1. 배경 (Background)
콘텐츠 제작 시장이 성장함에 따라, 최신 정보를 바탕으로 시의성 있는 블로그 글을 꾸준히 발행하는 것은 매우 중요하지만, 자료 수집, 초안 작성, 이미지 제작, 게시 등 반복적인 작업에 많은 시간이 소요됩니다. 본 시스템은 이러한 과정을 자동화하여 콘텐츠 제작의 효율성을 극대화하는 것을 목표로 합니다.

### 1.2. 목표 (Goals)
*   **핵심 목표:** 사용자가 지정한 '키워드' 하나만으로 관련 최신 정보를 수집하고, 적절한 이미지를 생성하며, 완성도 있는 블로그 포스트 초안을 작성하여, 최종적으로 Quarto 기반의 GitHub Pages 블로그에 자동으로 게시하는 엔드투엔드(End-to-End) 파이프라인을 구축한다.
*   **주요 성과 지표(KPI):**
    *   콘텐츠 1건 발행에 소요되는 시간 90% 이상 단축
    *   자동화 시스템 실행 성공률 95% 이상

### 1.3. 범위 (Scope)
*   **In-Scope (포함 범위):**
    *   키워드 기반 구글 검색을 통한 자료 수집
    *   Gemini Image Generation API를 활용한 이미지 생성
    *   수집된 자료 기반 AI 블로그 초안 작성
    *   Quarto를 활용한 Markdown(.md) → HTML 변환
    *   Git을 통한 GitHub Pages 자동 배포
*   **Out-of-Scope (미포함 범위):**
    *   생성된 초안에 대한 인간의 검토 및 수정 단계 (완전 자동화를 가정)
    *   SEO(검색엔진 최적화) 상세 설정
    *   블로그 댓글 관리 및 소셜 미디어 공유
    *   GitHub 외 다른 블로그 플랫폼(Tistory, Medium 등)으로의 배포

---

## 2. 사용자 페르소나 및 흐름 (User Persona & Flow)

### 2.1. 사용자 (User)
*   **페르소나:** 1인 콘텐츠 제작자, 기술 블로거, 마케터 등
*   **요구사항:** 최소한의 노력으로 정기적인 콘텐츠를 발행하여 블로그를 활성화하고 싶어 한다.

### 2.2. 사용자 흐름 (User Flow)
`사용자가 키워드 지정 및 시스템 실행` → `[자동] 1. 정보 수집` → `[자동] 2. 초안 작성` → `[자동] 3. 게시` → `사용자는 GitHub Pages에 배포된 최종 블로그 글 확인`

---

## 3. 기능 요구사항 (Functional Requirements)

### FR-1: 키워드 기반 정보 수집
시스템은 지정된 키워드를 바탕으로 블로그 글 작성에 필요한 텍스트와 이미지를 수집해야 한다.

*   **FR-1.1: 구글 검색을 통한 최신 정보 수집**
    *   시스템은 입력받은 키워드를 사용하여 구글 검색을 수행하고, 검색 결과 상위 3~5개의 신뢰도 높은 아티클(뉴스, 블로그 등)을 식별해야 한다.
    *   식별된 아티클의 본문 텍스트를 스크래핑(scraping)하여 하나의 텍스트 파일(`search.md`)로 취합 및 저장해야 한다.
*   **FR-1.2: AI를 활용한 대표 이미지 생성**
    *   시스템은 입력받은 키워드 또는 `search.md`의 내용을 요약한 텍스트를 프롬프트로 사용하여, Gemini Image Generation API를 호출해야 한다.
    *   API로부터 생성된 이미지를 지정된 경로에 `image.jpg` 파일로 저장해야 한다.

### FR-2: 블로그 포스트 초안 생성
시스템은 수집된 정보를 바탕으로 완전한 형태의 블로그 포스트 초안을 작성해야 한다.

*   **FR-2.1: AI 기반 초안 작성**
    *   시스템은 `search.md`의 내용과 `image.jpg`의 존재를 컨텍스트로, Gemini LLM API를 호출해야 한다.
    *   호출 시 사용될 프롬프트는 "당신은 전문 블로거입니다. 주어진 자료를 바탕으로, 서론, 본론, 결론의 구조를 갖춘 블로그 글을 작성해 주세요. 독자의 흥미를 끌 수 있는 제목도 제안해 주세요."와 같은 역할을 부여해야 한다.
    *   AI가 생성한 제목과 본문을 마크다운 형식의 `draft.md` 파일로 저장해야 한다.

### FR-3: Quarto를 이용한 퍼블리싱
시스템은 생성된 초안을 Quarto를 통해 HTML로 변환하고, 게시 준비를 마쳐야 한다.

*   **FR-3.1: Quarto 포스트 파일 생성**
    *   시스템은 사전에 약속된 Quarto 블로그 프로젝트 디렉토리 내에, `YYYY-MM-DD-keyword.qmd` 형식의 새 파일을 생성해야 한다.
    *   해당 파일에는 Quarto의 표준 머리말(YAML front matter)과 함께, `draft.md`의 본문 내용, 그리고 `image.jpg`를 삽입하는 마크다운 코드(`![이미지 설명](./image.jpg)`)가 포함되어야 한다.
*   **FR-3.2: HTML 렌더링**
    *   시스템은 Quarto 프로젝트의 루트 디렉토리에서 `quarto render` 명령어를 실행하여, 방금 생성된 `.qmd` 파일을 포함한 전체 블로그를 HTML로 렌더링해야 한다.
    *   렌더링된 결과물(예: `index.html`)은 Quarto 설정에 따라 `_site` 또는 `docs`와 같은 출력 디렉토리에 저장된다.

### FR-4: GitHub Pages 배포
시스템은 렌더링된 결과물을 GitHub 저장소에 업로드하여 최종 배포를 완료해야 한다.

*   **FR-4.1: Git 버전 관리**
    *   시스템은 새로 추가/수정된 모든 파일(예: `.qmd`, `image.jpg`, 렌더링된 HTML 파일 등)을 Git staging area에 추가(`git add .`)해야 한다.
    *   `"feat: Add new post on [키워드]"`와 같은 형식의 커밋 메시지로 변경사항을 커밋(`git commit`)해야 한다.
*   **FR-4.2: 원격 저장소에 푸시**
    *   시스템은 로컬 커밋을 GitHub 원격 저장소(`origin`)의 메인 브랜치(`main` 또는 `master`)에 푸시(`git push`)해야 한다.
    *   이 푸시 동작은 사전에 설정된 GitHub Actions 워크플로우를 트리거하여, GitHub Pages에 자동으로 배포를 완료하게 된다.

---

## 4. 비기능 요구사항 (Non-Functional Requirements)

*   **NFR-1: 완전 자동화:** 전체 프로세스는 단일 스크립트 실행 또는 명령어 입력을 통해 키워드 전달만으로 작동해야 한다.
*   **NFR-2: 오류 처리:** 정보 수집(API, 스크래핑), 이미지 생성, 렌더링, Git 푸시 등 각 단계에서 오류 발생 시, 프로세스를 중단하고 해당 오류를 로그 파일에 기록해야 한다.
*   **NFR-3: 환경 변수 관리:** 구글 검색 API 키, Gemini API 키 등 민감한 정보는 소스 코드에 하드코딩하지 않고, 환경 변수 또는 별도의 설정 파일을 통해 관리해야 한다.

---

## 5. 릴리즈 계획 (Release Plan)

*   **MVP (Minimum Viable Product):**
    *   단일 키워드에 대한 전체 자동화 파이프라인(FR-1 ~ FR-4)을 구현한다.
    *   사용자가 로컬 머신에 Quarto, Git, Python/Node.js 등 필요한 환경을 직접 설정하는 것을 전제로 한다.
    *   모든 과정은 단일 스크립트 실행으로 이루어진다.
*   **향후 개선 과제 (Future Enhancements):**
    *   여러 키워드를 순차적으로 처리하는 큐(Queue) 시스템 도입.
    *   자동 발행 전, 인간이 초안을 검토하고 수정할 수 있는 '승인' 단계 추가.
    *   키워드 입력 및 진행 상황 모니터링을 위한 간단한 웹 UI 개발.
